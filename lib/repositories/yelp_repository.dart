import 'dart:math';

import 'package:dio/dio.dart';
import 'package:flutter/foundation.dart' hide Category;
import 'package:restaurant_tour/models/restaurant.dart';

const _apiKey = String.fromEnvironment('YELP_API_KEY');

abstract interface class YelpRepository {
  Future<RestaurantQueryResult?> getRestaurants({int offset = 0});
}

final class HttpYelpRepository implements YelpRepository {
  final Dio dio;

  HttpYelpRepository({
    @visibleForTesting Dio? dio,
  }) : dio = dio ??
            Dio(
              BaseOptions(
                baseUrl: 'https://api.yelp.com',
                headers: {
                  'Authorization': 'Bearer $_apiKey',
                  'Content-Type': 'application/graphql',
                },
              ),
            );

  /// Returns a response in this shape
  /// ```json
  /// {
  /// "data": {
  ///   "search": {
  ///     "total": 5056,
  ///     "business": [
  ///       {
  ///         "id": "faPVqws-x-5k2CQKDNtHxw",
  ///         "name": "Yardbird Southern Table & Bar",
  ///         "price": "$$",
  ///         "rating": 4.5,
  ///         "photos": [
  ///           "https:///s3-media4.fl.yelpcdn.com/bphoto/_zXRdYX4r1OBfF86xKMbDw/o.jpg"
  ///         ],
  ///         "reviews": [
  ///           {
  ///             "id": "sjZoO8wcK1NeGJFDk5i82Q",
  ///             "rating": 5,
  ///             "user": {
  ///               "id": "BuBCkWFNT_O2dbSnBZvpoQ",
  ///               "image_url": "https:///s3-media2.fl.yelpcdn.com/photo/v8tbTjYaFvkzh1d7iE-pcQ/o.jpg",
  ///               "name": "Gina T.",
  ///               "text": "I love this place! The food is amazing and the service is great."
  ///             }
  ///           },
  ///           {
  ///             "id": "okpO9hfpxQXssbTZTKq9hA",
  ///             "rating": 5,
  ///             "user": {
  ///               "id": "0x9xu_b0Ct_6hG6jaxpztw",
  ///               "image_url": "https:///s3-media3.fl.yelpcdn.com/photo/gjz8X6tqE3e4praK4HfCiA/o.jpg",
  ///               "name": "Crystal L.",
  ///               "text": "Greate place to eat"
  ///             }
  ///           },
  ///        ...
  ///     ]
  ///   }
  /// }
  /// ```
  @override
  Future<RestaurantQueryResult?> getRestaurants({int offset = 0}) async {
    final response = await dio.post<Map<String, Object?>>(
      '/v3/graphql',
      data: _getQuery(offset),
    );

    final data = response.data!['data']! as Map<String, Object?>;
    final search = data['search'] as Map<String, Object?>;

    return RestaurantQueryResult.fromJson(search);
  }

  @pragma('vm:prefer-inline')
  String _getQuery(int offset) {
    return '''
query getRestaurants {
  search(location: "Las Vegas", limit: 20, offset: $offset) {
    total    
    business {
      id
      name
      price
      rating
      photos
      reviews {
        id
        rating
        text
        user {
          id
          image_url
          name
        }
      }
      categories {
        title
        alias
      }
      hours {
        is_open_now
      }
      location {
        formatted_address
      }
    }
  }
}
''';
  }
}

final class MockedYelpRepository implements YelpRepository {
  MockedYelpRepository({
    this.minimumThreshold = 0,
    this.maximumThreshold = 0,
  }) : assert(minimumThreshold <= maximumThreshold);

  final int minimumThreshold;
  final int maximumThreshold;

  final random = Random();

  @override
  Future<RestaurantQueryResult?> getRestaurants({int offset = 0}) async {
    final difference = minimumThreshold + maximumThreshold;
    final milliseconds = minimumThreshold + random.nextInt(difference);
    final duration = Duration(milliseconds: milliseconds);

    await Future.delayed(duration);

    return _mockObject;
  }
}

final _mockObject = RestaurantQueryResult.fromJson(_mockData);

const _mockData = {
  'total': 7517,
  'business': [
    {
      'id': 'vHz2RLtfUMVRPFmd7VBEHA',
      'name': "Gordon Ramsay Hell's Kitchen",
      'price': r'$$$',
      'rating': 4.4,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/q771KjLzI5y638leJsnJnQ/o.jpg',
      ],
      'reviews': [
        {
          'id': 'VJCoQlkk4Fjac0OPoRP8HQ',
          'rating': 5,
          'text': 'Me and my husband came to celebrate my birthday here and it was a 10/10 experience. Firstly, I booked the wrong area which was the Gordon Ramsay pub and...',
          'user': {
            'id': '0bQNLf0POLTW4VhQZqOZoQ',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/i_0K5RUOQnoIw1c4QzHmTg/o.jpg',
            'name': 'Glydel L.',
          },
        },
        {
          'id': 'EeCKH7eUVDsZv0Ii9wcPiQ',
          'rating': 5,
          'text': 'phenomenal! Bridgette made our experience as superb as the food coming to the table! would definitely come here again and try everything else on the menu,...',
          'user': {
            'id': 'gL7AGuKBW4ne93_mR168pQ',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/iU1sA7y3dEEc4iRL9LnWQQ/o.jpg',
            'name': 'Sydney O.',
          },
        },
        {
          'id': 'F88H5ow44AmiwisbrbswPw',
          'rating': 5,
          'text': 'This entire experience is always so amazing. Every single dish is cooked to perfection. Every beef dish was so tender. The desserts were absolutely...',
          'user': {
            'id': 'y742Fi1jF_JAqq5sRUlLEw',
            'image_url': 'https://s3-media2.fl.yelpcdn.com/photo/rEWek1sYL0F35KZ0zRt3sw/o.jpg',
            'name': 'Ashley L.',
          },
        }
      ],
      'categories': [
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Seafood', 'alias': 'seafood'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3570 Las Vegas Blvd S\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'faPVqws-x-5k2CQKDNtHxw',
      'name': 'Yardbird',
      'price': r'$$',
      'photos': [
        'https://s3-media1.fl.yelpcdn.com/bphoto/xYJaanpF3Dl1OovhmpqAYw/o.jpg',
      ],
      'reviews': [
        {
          'id': 'CN9oD1ncHKZtsGN7U1EMnA',
          'rating': 5,
          'text': 'The food was delicious and the host and waitress were very nice, my husband and I really loved all the food, their cocktails are also amazing.',
          'user': {
            'id': 'HArOfrshTW9s1HhN8oz8rg',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/4sDrkYRIZxsXKCYdo9d1bQ/o.jpg',
            'name': 'Snow7 C.',
          },
        },
        {
          'id': 'cqMrOWT9kRQOt3VUqOUbHg',
          'rating': 5,
          'text': 'Our last meal in Vegas was amazing at Yardbird. We have been to the Yardbird in Chicago so we thought we knew what to expect; however, we were blown away by...',
          'user': {
            'id': '10oig4nwHnOAnAApdYvNrg',
            'image_url': null,
            'name': 'Ellie K.',
          },
        },
        {
          'id': 'XpTuzInVGZ2Dmx5BX21aqA',
          'rating': 4,
          'text': 'The food was great and the atmosphere was fun! Not over the top or too fancy. Perfect for lunch or dinner.',
          'user': {
            'id': 'kp40ga5HSczQfP5TDlzjPQ',
            'image_url': null,
            'name': 'Tacie A.',
          },
        }
      ],
      'categories': [
        {'title': 'Southern', 'alias': 'southern'},
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Cocktail Bars', 'alias': 'cocktailbars'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3355 Las Vegas Blvd S\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'syhA1ugJpyNLaB0MiP19VA',
      'name': '888 Japanese BBQ',
      'price': r'$$$',
      'rating': 4.8,
      'photos': [
        'https://s3-media1.fl.yelpcdn.com/bphoto/V_zmwCUG1o_vR29xfkb-ng/o.jpg',
      ],
      'reviews': [
        {
          'id': 'mb9gfnkSopq00f4LBZVPig',
          'rating': 5,
          'text': 'Food service and Ambiance are so high quality.povw and always come back every other week .',
          'user': {
            'id': 'AKEHRiPmlrwKHxiiJlLGEQ',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/GdoKcKDBW0fWQ4To-X_clA/o.jpg',
            'name': 'Mellon D.',
          },
        },
        {
          'id': 'e06Cw1RLUsjZw5tgNm-J8Q',
          'rating': 5,
          'text': 'Best bbq off the strip service was amazing and staff were friendly! Will definitely come back for more good eats!',
          'user': {
            'id': 'tTocbjs4Whp_cUpvBceWWQ',
            'image_url': null,
            'name': 'Banny C.',
          },
        },
        {
          'id': 'DJRN1M6nsBL19HiX2Tkyug',
          'rating': 5,
          'text': 'Amazing experience.  Would recommend to anyone visiting Lad Vegas.  Wow!  The service was super and very friendly.  Definitely worth a try!',
          'user': {
            'id': 'pMxm5enXAlT77jbyElGMjQ',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/Z43vPbN4hxV33IpMQClX0A/o.jpg',
            'name': 'Angela W.',
          },
        }
      ],
      'categories': [
        {'title': 'Barbeque', 'alias': 'bbq'},
        {'title': 'Japanese', 'alias': 'japanese'},
      ],
      'hours': [
        {'is_open_now': false},
      ],
      'location': {
        'formatted_address': '3550 S Decatur Blvd\nLas Vegas, NV 89103',
      },
    },
    {
      'id': 'QXV3L_QFGj8r6nWX2kS2hA',
      'name': 'Nacho Daddy',
      'price': r'$$',
      'rating': 4.4,
      'photos': [
        'https://s3-media4.fl.yelpcdn.com/bphoto/pu9doqMplB5x5SEs8ikW6w/o.jpg',
      ],
      'reviews': [
        {
          'id': 'JU_T9FlCGKVBulGEI-4OHg',
          'rating': 5,
          'text': 'Alyssa was amazing! The food and atmosphere were great! Definitely will be coming back!',
          'user': {
            'id': 'CgVBZnioGBPgNLxq3z1E8Q',
            'image_url': null,
            'name': 'Jazmin G.',
          },
        },
        {
          'id': 'CifTHQgZ8L5IJc-dB_bizQ',
          'rating': 5,
          'text': 'Damn good! Xina was wonderful. 5 stars. Got some great nachos and drinks. Excellent vegan menu.',
          'user': {
            'id': 'zT0QrkMBUGj4DqSye8LnCQ',
            'image_url': null,
            'name': 'Mark T.',
          },
        },
        {
          'id': '-MAq_q1q6Vgk1_RQjNCdjA',
          'rating': 5,
          'text': "This is my first time at nacho daddy's and My server Shannon was amazing. She came to our table fast and i love how on top of it she was to get our drinks...",
          'user': {
            'id': 'MWZcvuYNlFq_UPJX-NyWLw',
            'image_url': null,
            'name': 'Desiree L.',
          },
        }
      ],
      'categories': [
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Mexican', 'alias': 'mexican'},
        {'title': 'Breakfast & Brunch', 'alias': 'breakfast_brunch'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3663 Las Vegas Blvd\nSte 595\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'rdE9gg0WB7Z8kRytIMSapg',
      'name': 'Lazy Dog Restaurant & Bar',
      'price': r'$$',
      'rating': 4.5,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/_Wz-fNXawmbBinSf9Ev15g/o.jpg',
      ],
      'reviews': [
        {
          'id': 'SlDFYj2sdxeeAIibIPJLFg',
          'rating': 5,
          'text': 'Great food! Service was excellent.   Had the Alfredo chicken and it hit the spot.   The manager stopped by and made literally conversation.    Her name was...',
          'user': {
            'id': 'XcNwCjkxQ-A-ErsAxm2D9g',
            'image_url': null,
            'name': 'Natalie C.',
          },
        },
        {
          'id': 'WCQ3d28zbUGg4n2D2auUbw',
          'rating': 5,
          'text': 'What a great experience from our waiter Anthony F.! He saw our daughter was icing her knee after a grueling tournament and was the first to ask if we needed...',
          'user': {
            'id': '0MKASbKsZ4imiq_ugtt8NQ',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/rCz78mQ16LBbmADoOE9A3Q/o.jpg',
            'name': 'Barbara S.',
          },
        },
        {
          'id': 'Gfj013WbLQo3sADlG1mXUQ',
          'rating': 5,
          'text': 'By far the BEST restaurant that we have been to while visiting Vegas. Food, atmosphere and customer service was  phenomenal! Tina was our server, absolutely...',
          'user': {
            'id': '1TUNMdokzFDEa1SmZ-F3Dw',
            'image_url': null,
            'name': 'Tasha R.',
          },
        }
      ],
      'categories': [
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Comfort Food', 'alias': 'comfortfood'},
        {'title': 'Burgers', 'alias': 'burgers'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '6509 S Las Vegas Blvd\nLas Vegas, NV 89119',
      },
    },
    {
      'id': '3kdSl5mo9dWC4clrQjEDGg',
      'name': 'Egg & I',
      'price': r'$$',
      'rating': 4.5,
      'photos': [
        'https://s3-media1.fl.yelpcdn.com/bphoto/z4rdxoc6xaM4dmdPovPBDg/o.jpg',
      ],
      'reviews': [
        {
          'id': 'P6yj97cmXiHzXJV3B0L7xA',
          'rating': 5,
          'text': 'The food was delicious and just how i ordered it. I had the chicken sandwich with fries. Our waitress was Crystal,  even though it was only her fourth day...',
          'user': {
            'id': 'SxuhAYL2h6441S51H9tlmQ',
            'image_url': null,
            'name': 'Bhlasian G.',
          },
        },
        {
          'id': 'YLY6BcCx-APSr67Xfd6aJg',
          'rating': 5,
          'text': 'I came here after reading the reviews. When l checked in l received the banana muffin on the house, it was delicious. I ordered the original burrito and my...',
          'user': {
            'id': '3RCz-zMjeNEqsrQE43-vIA',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/lG-jJexCutZZi2hazBgH3Q/o.jpg',
            'name': 'Vicky K.',
          },
        },
        {
          'id': '7pOCQU3F1US1T-FpcmTXtA',
          'rating': 4,
          'text': "Born and raised in Vegas and for some reason I've never been here.  Finally decided to get some 'to go' sandwiches for breakfast.  \n\nOver \$40 for an egg...",
          'user': {
            'id': 'keBv05MsMFBd0Hu98vXThQ',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/IKQxIIRJWxecyHIkv1xw4g/o.jpg',
            'name': 'Jesse L.',
          },
        }
      ],
      'categories': [
        {'title': 'Breakfast & Brunch', 'alias': 'breakfast_brunch'},
        {'title': 'Burgers', 'alias': 'burgers'},
        {'title': 'American', 'alias': 'tradamerican'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '4533 W Sahara Ave\nSte 5\nLas Vegas, NV 89102',
      },
    },
    {
      'id': 'gOOfBSBZlffCkQ7dr7cpdw',
      'name': 'CHICA',
      'price': r'$$',
      'rating': 4.3,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/FxmtjuzPDiL7vx5KyceWuQ/o.jpg',
      ],
      'reviews': [
        {
          'id': 'xXQzEfd0czYwW_PW_QW1RQ',
          'rating': 5,
          'text': 'Came here with a group of 8 for brunch and we all had a wonderful experience. Our waitress, Karena, was amazing! She was super attentive and such a good...',
          'user': {
            'id': 'A8wuelxCSNiuS6IFY6WKbw',
            'image_url': null,
            'name': 'Joanna M.',
          },
        },
        {
          'id': 'k0mR3x34X9bXMZfyTsO8nQ',
          'rating': 5,
          'text': 'The food was amazing. I had the Latin breakfast. Our table shared the donuts...delicious. We had drinks and they were made with fresh ingredients. They...',
          'user': {
            'id': '47SO7vTL6Louu9Gbkq8UeA',
            'image_url': null,
            'name': 'Brandi T.',
          },
        },
        {
          'id': 'pLdKzOPNlHmonm08eRP6Fw',
          'rating': 5,
          'text': 'Every dish was amazing. The parrillada is a must have to share. The sides are also great. I love the corn too. And the famous flaming skull dessert is both...',
          'user': {
            'id': 'IE8XGvC-2fzE0lTltk-46Q',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/vOMr4EWJNoDbKR-lrDSfbg/o.jpg',
            'name': 'Fabian L.',
          },
        }
      ],
      'categories': [
        {'title': 'Latin American', 'alias': 'latin'},
        {'title': 'Breakfast & Brunch', 'alias': 'breakfast_brunch'},
        {'title': 'Cocktail Bars', 'alias': 'cocktailbars'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3355 South Las Vegas Blvd\nSte 106\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'JPfi__QJAaRzmfh5aOyFEw',
      'name': 'Shang Artisan Noodle - Flamingo Road',
      'price': r'$$',
      'rating': 4.6,
      'photos': [
        'https://s3-media3.fl.yelpcdn.com/bphoto/TqV2TDWH-7Wje5B9Oh1EZw/o.jpg',
      ],
      'reviews': [
        {
          'id': 'GcGUAH0FPeyfw7rw7eu2Sg',
          'rating': 5,
          'text': "Best beef noodle soup I've ever had. Portion sizes huge. Family of 5 could have shared 3 bowls with some appetizers. Spicy wonton and beef dumplings were...",
          'user': {
            'id': '4H2AFePQc7B4LGWhGkAb2g',
            'image_url': null,
            'name': 'AA K.',
          },
        },
        {
          'id': 'JZPALhqqab576i9xk80tgQ',
          'rating': 5,
          'text': 'Great restaurant with authentic flavors and everything is made from scratch! . Great service and very popular with the Asian community',
          'user': {
            'id': 'MmOJaZ2cPwguz6bPTYdfWQ',
            'image_url': null,
            'name': 'Squadron F.',
          },
        },
        {
          'id': 'oJGyfL7kGuV43Z5kIceYZg',
          'rating': 5,
          'text': 'Every time I plan a Vegas trip, this is one of my spots I NEVER MISS. \n\nEach bowl from Shang has so much flavor, and the noodles are so chewy. They have a...',
          'user': {
            'id': 'DJiwsCAKTvybSyOUvm_Avw',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/STrtsOu9xOs5ypKYPFMChQ/o.jpg',
            'name': 'Annie T.',
          },
        }
      ],
      'categories': [
        {'title': 'Noodles', 'alias': 'noodles'},
        {'title': 'Chinese', 'alias': 'chinese'},
        {'title': 'Soup', 'alias': 'soup'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '4983 W Flamingo Rd\nSte B\nLas Vegas, NV 89103',
      },
    },
    {
      'id': '2iTsRqUsPGRH1li1WVRvKQ',
      'name': 'Carson Kitchen',
      'price': r'$$',
      'rating': 4.5,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/LhaPvLHIrsHu8ZMLgV04OQ/o.jpg',
      ],
      'reviews': [
        {
          'id': 'PzKQYLK6skSfAUP73P8YXQ',
          'rating': 5,
          'text': "Our son gave his mother a birthday gift of a meal at Carson Kitchen. He's the kind of guy that does thorough reviews on everything he's interested in...",
          'user': {
            'id': 'Cvlm-uNVOY2i5zPWQdLupA',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/ZT4s2popID75p_yJbo1xjg/o.jpg',
            'name': 'Bill H.',
          },
        },
        {
          'id': 'pq6VEb97OpbB-KwvsJVyfw',
          'rating': 4,
          'text': "Came here during my most recent Vegas trip and was intrigued by the menu options! There's a parking lot close by (pay by the booth) but since I came on a...",
          'user': {
            'id': 'TMeT1a_1MJLOYobdY6Bs-A',
            'image_url': 'https://s3-media2.fl.yelpcdn.com/photo/CxCo55gIOATctXc5wLa5CQ/o.jpg',
            'name': 'Amy E.',
          },
        },
        {
          'id': '5LF6EKorAR01mWStVYmYBw',
          'rating': 4,
          'text': 'The service and the atmosphere were amazing! Our server was very knowledgeable about the menu and helped guide our selections. We tired five different...',
          'user': {
            'id': 'a71YY9h3GRv7F-4_OGGiRQ',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/3EDvhfkljrLyodxSrn8Fqg/o.jpg',
            'name': 'May G.',
          },
        }
      ],
      'categories': [
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Desserts', 'alias': 'desserts'},
        {'title': 'Cocktail Bars', 'alias': 'cocktailbars'},
      ],
      'hours': [
        {'is_open_now': false},
      ],
      'location': {
        'formatted_address': '124 S 6th St\nSte 100\nLas Vegas, NV 89101',
      },
    },
    {
      'id': 'igHYkXZMLAc9UdV5VnR_AA',
      'name': 'Echo & Rig',
      'price': r'$$$',
      'rating': 4.4,
      'photos': [
        'https://s3-media1.fl.yelpcdn.com/bphoto/Q9swks1BO-w-hVskIHrCVg/o.jpg',
      ],
      'reviews': [
        {
          'id': 'S8KsRL4i-Qa4OQDpvTYy8Q',
          'rating': 5,
          'text': 'I had a delightful meal at Echo & Rig, enjoying the filet mignon with a salad and a side of fries. The steak was perfectly cooked and incredibly tender,...',
          'user': {
            'id': 'VZdaG5_PQq6W_5TTbLPSog',
            'image_url': null,
            'name': 'S R.',
          },
        },
        {
          'id': 'HoUKWihuu-DVt77nA6QI5w',
          'rating': 5,
          'text': "I've been here several times. Today I was meeting up with a friend and decided to sit at the bar downstairs to wait for him. I was pleasantly greeted by the...",
          'user': {
            'id': 'cMZVJdi_fKG7rp1no_2ZvA',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/4NcP4S6RklA6sT8Zp2JCfw/o.jpg',
            'name': 'Joshua S.',
          },
        },
        {
          'id': 'JId3KfBAwJTv3OqEoS-V9A',
          'rating': 5,
          'text': 'We had reservations very early at 5.30pm\nThis places is so large however super busy and popular.\nThe food and service are excellent. The only things that...',
          'user': {
            'id': '1v2UxV8i_Ae64yxT17rRRg',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/DxCDFZrPLOdc6o5CddaAoQ/o.jpg',
            'name': 'Apple S.',
          },
        }
      ],
      'categories': [
        {'title': 'Steakhouses', 'alias': 'steak'},
        {'title': 'Butcher', 'alias': 'butcher'},
        {'title': 'Tapas/Small Plates', 'alias': 'tapasmallplates'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '440 S Rampart Blvd\nLas Vegas, NV 89145',
      },
    },
    {
      'id': 'SVGApDPNdpFlEjwRQThCxA',
      'name': "Juan's Flaming Fajitas & Cantina - Tropicana",
      'price': r'$$',
      'rating': 4.6,
      'photos': [
        'https://s3-media3.fl.yelpcdn.com/bphoto/a8L9bQZ2XW8etXLomKKdDw/o.jpg',
      ],
      'reviews': [
        {
          'id': 'QrqQBcKENE83z4sWBdQyrg',
          'rating': 5,
          'text': "My FAVORITE Mexican food in Vegas!! From the service to the food I'd give 5 stars all around!!! Everyone is always friendly and welcoming!!! \n\nI can't ever...",
          'user': {
            'id': 'YvEyOqT0PUyFwZ9NUj_A0A',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/kra2v9Z6sd7W9S1enUDJrA/o.jpg',
            'name': 'Christy G.',
          },
        },
        {
          'id': 'apS-lxKwHo2yJBnk0a8Phw',
          'rating': 5,
          'text': "One of my favorite places in town. It's always crowded, so it's best to use the Yelp reservation system. Parking can be a toughie too. It's located in the...",
          'user': {
            'id': 'yPVnXy6Zf3LefjcbjOABDQ',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/6sCVZwFwdpUhElhUKTbJ6g/o.jpg',
            'name': 'Cecille L.',
          },
        },
        {
          'id': '4nTGQhV8vMDNS-V3nF99VA',
          'rating': 5,
          'text': "I've been here a couple times and each time so far it has been amazing! From food to service - everything was great. \n\nOn my last visit we ordered the...",
          'user': {
            'id': 'ayOlP5JtyF8RwtB0opJzrw',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/qrPJ560WVlLPJ8FFbrJlWg/o.jpg',
            'name': 'Tia G.',
          },
        }
      ],
      'categories': [
        {'title': 'Mexican', 'alias': 'mexican'},
        {'title': 'Breakfast & Brunch', 'alias': 'breakfast_brunch'},
        {'title': 'Cocktail Bars', 'alias': 'cocktailbars'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '9640 W Tropicana\nSte 101\nLas Vegas, NV 89147',
      },
    },
    {
      'id': '4JNXUYY8wbaaDmk3BPzlWw',
      'name': 'Mon Ami Gabi',
      'price': r'$$$',
      'rating': 4.2,
      'photos': [
        'https://s3-media3.fl.yelpcdn.com/bphoto/FFhN_E1rV0txRVa6elzcZw/o.jpg',
      ],
      'reviews': [
        {
          'id': 'baBnM1ontpOLgoeu2xv6Wg',
          'rating': 5,
          'text': "the breakfast was amazing, possibly the best french toast i've ever eaten. i'd love to try more items in the future, super appetizing. ate an entire french...",
          'user': {
            'id': 'xSvgz_-dtVa_GINcR85wzA',
            'image_url': null,
            'name': 'Lilly H.',
          },
        },
        {
          'id': 'Lg_j2vG2CTR8A5NGM7Zqhw',
          'rating': 5,
          'text': 'We recently ate at this French restaurant for the first time, and it was an amazing experience. Initially, we were eager to sit outside to enjoy the view of...',
          'user': {
            'id': 'pgvFEonlrCa1BCmDg_dofQ',
            'image_url': 'https://s3-media2.fl.yelpcdn.com/photo/xMn5z_xxJt_Qq3_PvTZ__g/o.jpg',
            'name': 'Chul L.',
          },
        },
        {
          'id': 'Kiv-lCuE-VBUMR1V_fM6HA',
          'rating': 5,
          'text': 'Although I had a mixed experience at the Paris hotel, Mon Ami Gabi was a pleasant surprise. Given how overpriced some of the items were in the hotel shops I...',
          'user': {
            'id': 'YnSxh5AC2EtmOyg2XqcqPQ',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/u9kYpEYZlmkg3sWWIqDtyA/o.jpg',
            'name': 'Jon L.',
          },
        }
      ],
      'categories': [
        {'title': 'French', 'alias': 'french'},
        {'title': 'Steakhouses', 'alias': 'steak'},
        {'title': 'Breakfast & Brunch', 'alias': 'breakfast_brunch'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3655 Las Vegas Blvd S\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'UidEFF1WpnU4duev4fjPlQ',
      'name': 'Therapy ',
      'price': r'$$',
      'rating': 4.3,
      'photos': [
        'https://s3-media3.fl.yelpcdn.com/bphoto/otaMuPtauoEb6qZzmHlAlQ/o.jpg',
      ],
      'reviews': [
        {
          'id': 'a3UISKdTa1aMxok4mmzNsQ',
          'rating': 5,
          'text': "Step into Therapy and take a sit, Chris the bartender is pretty chill. Talking to him is like talking to a long time friend, the type you don't see for a...",
          'user': {
            'id': 'SbMQm6pAPRwg04y44S5zLA',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/3ZuAxm31p7iwQ_zV2lgWOA/o.jpg',
            'name': 'Vittor V.',
          },
        },
        {
          'id': 'hfZ-9d6Xxztb9o-cEJmR7Q',
          'rating': 5,
          'text': 'The food and drinks great! Try the loaded crab fries ~ got seated and served quick- Dallas was the best!',
          'user': {
            'id': '7_uRkPfh8fvewEHDnhx6mg',
            'image_url': null,
            'name': 'Patricia L.',
          },
        },
        {
          'id': 'oSb7UzeaA-r_H8WgJYWH3A',
          'rating': 5,
          'text': 'I come here once in a while. I had a great time spent here dancing on tables! I came for happy hour during the day and had so much fun! They have a great...',
          'user': {
            'id': 'zPRZtDcBqN0VjXDlkYK3cQ',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/4ZS87l3TNsOLSF6-Piqi_A/o.jpg',
            'name': 'Brenda B.',
          },
        }
      ],
      'categories': [
        {'title': 'Bars', 'alias': 'bars'},
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Dance Clubs', 'alias': 'danceclubs'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '518 Fremont St\nLas Vegas, NV 89101',
      },
    },
    {
      'id': 'QCCVxVRt1amqv0AaEWSKkg',
      'name': "Esther's Kitchen",
      'price': r'$$',
      'rating': 4.5,
      'photos': [
        'https://s3-media3.fl.yelpcdn.com/bphoto/uk6-4u8H6BpxaJAKDEzFOA/o.jpg',
      ],
      'reviews': [
        {
          'id': 'VjmUIlp_Y0_0ISEjqZvKAw',
          'rating': 5,
          'text': "Our server Josh was AMAZING! He was so attentive and sweet  I've been to their on location and the new one does not disappoint. I tried something new...",
          'user': {
            'id': '59qcS7L8sHAaxziIg4_i5A',
            'image_url': null,
            'name': 'Caitlin S.',
          },
        },
        {
          'id': '54vX-IPr0HmraBhjhNJh2g',
          'rating': 5,
          'text': "Esther's Kitchen is a wonderful find, especially for locals who want a variety of good freshly made food at an affordable price.  Some dishes/pottery they...",
          'user': {
            'id': 'Uw9yxT40cGDCWI0AffnzdA',
            'image_url': null,
            'name': 'Gigi O.',
          },
        },
        {
          'id': 'SFLBVnLVHLI5c7Vdb2l5yg',
          'rating': 5,
          'text': "Certainly! Here is a sample review for Esther's Kitchen:\n\n---\n\n**Esther's Kitchen - A Hidden Gem in the Heart of the City**\n\nEsther's Kitchen is a...",
          'user': {
            'id': 'A59MiJ0LjgQIWWN1HdeI7A',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/f-xW9DAGYO8jXFKqW3NmFA/o.jpg',
            'name': 'Alfonso A.',
          },
        }
      ],
      'categories': [
        {'title': 'Italian', 'alias': 'italian'},
        {'title': 'Pizza', 'alias': 'pizza'},
        {'title': 'Cocktail Bars', 'alias': 'cocktailbars'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '1131 S Main St\nLas Vegas, NV 89104',
      },
    },
    {
      'id': 'mU3vlAVzTxgmZUu6F4XixA',
      'name': 'Momofuku',
      'price': r'$$',
      'rating': 4.1,
      'photos': [
        'https://s3-media1.fl.yelpcdn.com/bphoto/mB1g53Nqa62Q04u4oNuCSw/o.jpg',
      ],
      'reviews': [
        {
          'id': 'mAEPxxFflcYD6ZtzvnxzKg',
          'rating': 3,
          'text': 'Service subpar. Lamb was average.  Pork belly for kids bad. Overall not worth the prices.',
          'user': {
            'id': 's4qyTcSQtHzlW8O4nm867A',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/lbb5PhyDftjXRuTV8mdBsA/o.jpg',
            'name': 'Jon L.',
          },
        },
        {
          'id': '40BE2te-wIXkc3xevcp4Ew',
          'rating': 3,
          'text': 'Service is pretty good.\n\nFor food, ordered corn rib, and it was fantastic. The ramen was just so so: mushroom ramen was too salty. kid ordered the other...',
          'user': {
            'id': 'Dk68URVdrfDzQJvghTs9nA',
            'image_url': null,
            'name': 'Peng Z.',
          },
        },
        {
          'id': '2OEMhHcFTfJ2rL_e-61-5w',
          'rating': 5,
          'text': 'Food was just perfect. We tried few different buns and noodles as well as what you see in the pics. My favorite was temaki and iberico pork.  Temaki comes...',
          'user': {
            'id': 'qwH-93rwVUExvTyK8QLxjQ',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/rwXdDb1vh2sK61MzYB-fyQ/o.jpg',
            'name': 'Lin K.',
          },
        }
      ],
      'categories': [
        {'title': 'New American', 'alias': 'newamerican'},
        {'title': 'Asian Fusion', 'alias': 'asianfusion'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3708 Las Vegas Blvd S\nLevel 2\nBoulevard Tower\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'fL-b760btOaGa85OJ9ut3w',
      'name': 'Rollin Smoke Barbeque',
      'price': r'$$',
      'rating': 4.4,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/j6pMPJziv3-_Jzl1bRaMSw/o.jpg',
      ],
      'reviews': [
        {
          'id': 'bfnaYmZN0RPzutYSO9tPfg',
          'rating': 5,
          'text': "This food was so good it made me write my first ever review. Absolutely delicious. My wife said it was the best mac and cheese she's ever had, and my wife...",
          'user': {
            'id': 'nLXyYA1LoLEtARCBiB6xYA',
            'image_url': null,
            'name': 'Nicholas M.',
          },
        },
        {
          'id': 'eWVrb6J2OuQ0y8g2-Mm1_g',
          'rating': 5,
          'text': "Rollin Smoke BBQ is that spot, for real! This place got the Arkansas Razorbacks vibe on lock, and the food? Straight fire! Let's break it down:\n\n**Ribs:**...",
          'user': {
            'id': 'ZYe4DVeqMNMjJZVLil8yMw',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/0THv8LUjv9SkKLsZWxCqcA/o.jpg',
            'name': 'Andre W.',
          },
        },
        {
          'id': 'nuyFJ8XQse6g5pGC5dC7tg',
          'rating': 5,
          'text': "5 of 5\nWe celebrate a friend b day from Santa ana\nFamily style barbecue \nMy friend brought the mariachi too\nBbq was delicious \nHappy bday  mr Peter's",
          'user': {
            'id': 'uB61MiqCg_VV9wzDtCK7Gg',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/Ux0PYdEc31Y19vpo1rUk_w/o.jpg',
            'name': 'Araceli C.',
          },
        }
      ],
      'categories': [
        {'title': 'Barbeque', 'alias': 'bbq'},
        {'title': 'Southern', 'alias': 'southern'},
        {'title': 'Sandwiches', 'alias': 'sandwiches'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3185 S Highland Dr\nSte 2\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'So132GP_uy3XbGs0KNyzyw',
      'name': 'Casa Di Amore',
      'price': r'$$',
      'rating': 4.4,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/7Yu5-1ZOYYUgZaXcdz0K9w/o.jpg',
      ],
      'reviews': [
        {
          'id': 'k8JeqKM1ehBLiiZda8fcZw',
          'rating': 5,
          'text': 'The service & food was great!! I recommend you try it!! Or just have a drink at the BAR!! lol',
          'user': {
            'id': 'nXxoKg7AMpiaZIDNeMcgwA',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/K-7O4xXLqHi6TGT-DWzr_g/o.jpg',
            'name': 'Lina A.',
          },
        },
        {
          'id': '_U9jbY372Ml8MPay9-OuGA',
          'rating': 5,
          'text': 'The service! The food! Both so amazing, on top of that we have a live performance of the piano such a vibe, would definitely recommend this place if your in...',
          'user': {
            'id': 'iaGEMG7rXGp6AYM-GAjF_Q',
            'image_url': null,
            'name': 'Amy C.',
          },
        },
        {
          'id': 'hg0Q990LcQTzAF2aNmDK5w',
          'rating': 5,
          'text': 'The food and service were great! What a fun place. Randy Thomas the piano play...what a talent. He made our night out exceptional.',
          'user': {
            'id': 'Z4Xjsime8D-qkFU12PmdaA',
            'image_url': null,
            'name': 'Heidi M.',
          },
        }
      ],
      'categories': [
        {'title': 'Italian', 'alias': 'italian'},
        {'title': 'Seafood', 'alias': 'seafood'},
        {'title': 'Pizza', 'alias': 'pizza'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '2850 E Tropicana Ave\nLas Vegas, NV 89121',
      },
    },
    {
      'id': 'nUpz0YiBsOK7ff9k3vUJ3A',
      'name': "Buddy V's Ristorante",
      'price': r'$$',
      'rating': 4.2,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/cQxDwddn5H6c8ZGBQnjwnQ/o.jpg',
      ],
      'reviews': [
        {
          'id': 'v9pnz6eqN7f2STYctnBBlQ',
          'rating': 3,
          'text': 'The dining experience left much to be desired. The food was subpar, with a notable texture issue in the carbonara; the pieces of crunchy crumbled pancetta...',
          'user': {
            'id': 'Ux0VVNN8ICTmJbuWlW2djg',
            'image_url': null,
            'name': 'Nathan T.',
          },
        },
        {
          'id': 'JGb9E8nERjsNFM2F7SqCNA',
          'rating': 5,
          'text': 'Great food and great service.\nNice location.. they have outdoor and indoor seating.\nMeatballs are highly recommended!',
          'user': {
            'id': 'loDGoLca5JC6dARvBQCUmg',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/It7kRVx2aq3EPC9amExlPA/o.jpg',
            'name': 'Daniel V.',
          },
        },
        {
          'id': '37kIixegf3pTb3jb6i1Y5g',
          'rating': 3,
          'text': 'Overall, the restaurant was average. The calamari was the redeeming aspect since it was one of the best I had, so make sure to get that (Hoboken style, as...',
          'user': {
            'id': 'IAOAGReoxWaxhZm5-EpmOg',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/YI-5O4mLRjh3-o0keMuzbA/o.jpg',
            'name': 'Juliet M.',
          },
        }
      ],
      'categories': [
        {'title': 'Italian', 'alias': 'italian'},
        {'title': 'American', 'alias': 'tradamerican'},
        {'title': 'Wine Bars', 'alias': 'wine_bars'},
      ],
      'hours': [
        {'is_open_now': false},
      ],
      'location': {
        'formatted_address': '3327 S Las Vegas Blvd\nLas Vegas, NV 89109',
      },
    },
    {
      'id': 'FNe5PPA9pyj8FjcDefCBpg',
      'name': 'Weera Thai Restaurant - Sahara',
      'price': r'$$',
      'rating': 4.4,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/TOPFVZGJtaLJI_-Vyq078A/o.jpg',
      ],
      'reviews': [
        {
          'id': 'ETb_y4-gKokiY186fQ1dvw',
          'rating': 5,
          'text': 'We always come here when visiting Las Vegas. The food is excellent, pork Skewers are well seasoning!! \nBest pad thai and Thai Fried Rice \n\nMango sticky rice...',
          'user': {
            'id': 'UMW1Q7If-YnfitQf271S-Q',
            'image_url': 'https://s3-media3.fl.yelpcdn.com/photo/INM0Uxdt1pYMKuiryDWM_g/o.jpg',
            'name': 'Jesse P.',
          },
        },
        {
          'id': 'cE_Ah4sxgfBquOSPTuqirQ',
          'rating': 5,
          'text': "If you're a fan of Thai food, you absolutely need to check out this place. The pork belly appetizer is an absolute must-have--lightly breaded and bursting...",
          'user': {
            'id': 'zLDkdRzxLJgFEHFFV52fbQ',
            'image_url': 'https://s3-media2.fl.yelpcdn.com/photo/jDM2-0g29Ms_CoypGa78XA/o.jpg',
            'name': 'Kai T.',
          },
        },
        {
          'id': 'VxDE--0BUyLY0daIiwZfJg',
          'rating': 5,
          'text': 'Of all our trips to Las Vegas, I am most delighted to have had discovered this hidden gem this trip and why did I not discover this location earlier! All of...',
          'user': {
            'id': 'Kuc7KAZBnrW5O_C-Dn-r_Q',
            'image_url': 'https://s3-media2.fl.yelpcdn.com/photo/UIQLPO2XlV4A2WbaWVIKmA/o.jpg',
            'name': 'Celia Z.',
          },
        }
      ],
      'categories': [
        {'title': 'Thai', 'alias': 'thai'},
        {'title': 'Bars', 'alias': 'bars'},
      ],
      'hours': [
        {'is_open_now': true},
      ],
      'location': {
        'formatted_address': '3839 W Sahara Ave\nSte 7-9\nLas Vegas, NV 89102',
      },
    },
    {
      'id': '-1m9o3vGRA8IBPNvNqKLmA',
      'name': "Bavette's Steakhouse & Bar",
      'price': r'$$$$',
      'rating': 4.5,
      'photos': [
        'https://s3-media2.fl.yelpcdn.com/bphoto/pgcnYRHtbw_x_-OG8K4xVg/o.jpg',
      ],
      'reviews': [
        {
          'id': 'PbKZJlLCWVcnHLUV0AK45g',
          'rating': 5,
          'text': "For a great dining experience look no further!\n\nBavette's has it all; delicious food, fantastic cocktails, and a service staff above them all.\n\nWe were a...",
          'user': {
            'id': 'IJxjNg4fMDar8WTcY_s1NQ',
            'image_url': 'https://s3-media1.fl.yelpcdn.com/photo/DN4xv1FYk_5yvPBhydRZGg/o.jpg',
            'name': 'Lisha K.',
          },
        },
        {
          'id': 'Bk8AQJD8APVBWR6Y_Opvpw',
          'rating': 5,
          'text': 'First time at Bavettes and not sure what took us so long. Upon entry you feel whisked into a whole other atmosphere from the casino. The dark woods and...',
          'user': {
            'id': 'c1sHJlr0MizIANx49BTXWQ',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/y9JnzleHF9G9Lx6EHIu8SA/o.jpg',
            'name': 'Alyssa Y.',
          },
        },
        {
          'id': 'wmraj3HVLF7IO5FLdPD6oQ',
          'rating': 5,
          'text': '10/10 service and hospitality. Ambiance is perfect for a late night dinner with a partner or even family. We definitely enjoyed ourselves here and enjoyed...',
          'user': {
            'id': 'MZJmPApqOQ-St4II1lDnLg',
            'image_url': 'https://s3-media4.fl.yelpcdn.com/photo/CTnyY9AwmIc5Rcb-r8BRaQ/o.jpg',
            'name': 'Kalia A.',
          },
        }
      ],
      'categories': [
        {'title': 'Steakhouses', 'alias': 'steak'},
        {'title': 'Bars', 'alias': 'bars'},
        {'title': 'New American', 'alias': 'newamerican'},
      ],
      'hours': [
        {'is_open_now': false},
      ],
      'location': {
        'formatted_address': '3770 Las Vegas Blvd S\nLas Vegas, NV 89109',
      },
    }
  ],
};
